<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å‘½ç†ç²¾æµ‹ - ç´«å¾®å‘½ç†é¦†</title>
    <style>
        :root { --primary: #7b68ee; --bg: #f4f7ff; --card: #ffffff; }
        body { font-family: -apple-system, "PingFang SC", "Microsoft YaHei", sans-serif; background: var(--bg); display: flex; justify-content: center; padding: 20px; min-height: 100vh; margin: 0; align-items: center; }
        .card { background: var(--card); padding: 30px; border-radius: 28px; box-shadow: 0 15px 50px rgba(123, 104, 238, 0.15); width: 100%; max-width: 420px; text-align: center; }
        h2 { color: var(--primary); font-size: 1.6rem; margin-bottom: 8px; }
        .subtitle { color: #888; font-size: 0.9rem; margin-bottom: 25px; }
        .form-group { text-align: left; margin-bottom: 15px; }
        label { display: block; font-size: 0.85rem; color: #666; margin-bottom: 6px; font-weight: 600; }
        input, select, textarea { width: 100%; padding: 13px; border: 1.5px solid #eee; border-radius: 12px; font-size: 15px; box-sizing: border-box; outline: none; transition: all 0.3s; font-family: inherit; }
        input:focus, textarea:focus { border-color: var(--primary); box-shadow: 0 0 0 3px rgba(123, 104, 238, 0.1); }
        .btn { width: 100%; padding: 16px; background: var(--primary); color: white; border: none; border-radius: 16px; font-size: 18px; font-weight: bold; cursor: pointer; transition: 0.2s; margin-top: 10px; }
        .btn:active { transform: scale(0.97); }
        
        /* è¿›åº¦æ¡æ ·å¼ */
        #loading { display: none; margin-top: 20px; }
        .progress-outer { width: 100%; background: #eee; border-radius: 10px; height: 10px; margin: 20px 0; overflow: hidden; }
        #progress-inner { width: 0%; height: 100%; background: linear-gradient(90deg, #7b68ee, #a29bfe); transition: width 0.4s ease; }
        #loading-text { color: #555; font-size: 0.9rem; margin-bottom: 5px; }
        
        /* ç»“æœå±•ç¤ºåŒº */
        #result-area { display: none; margin-top: 10px; }
        .res-box { background: #fcfcff; padding: 25px; border-radius: 20px; text-align: left; line-height: 1.8; border: 1px solid #eee; border-left: 6px solid var(--primary); color: #333; font-size: 1rem; white-space: pre-wrap; word-wrap: break-word; }
        .res-box b { color: var(--primary); }
    </style>
</head>
<body>

<div class="card">
    <h2 id="pageTitle">ğŸ”® å‘½ç†æµ‹ç®—</h2>
    <p class="subtitle">æ‹¨å¼€è¿·é›¾ï¼Œäºæ˜“ç†ä¸­å¯»ä¸€ä»½ç¡®å®šæ€§</p>
    
    <div id="input-form">
        <div class="form-group" style="display: flex; gap: 10px;">
            <div style="flex: 2;">
                <label>æ‚¨çš„ç§°å‘¼</label>
                <input type="text" id="username" placeholder="ä¾‹ï¼šBBå§">
            </div>
            <div style="flex: 1;">
                <label>æ€§åˆ«</label>
                <select id="gender">
                    <option value="å¥³">å¤é€ (å¥³)</option>
                    <option value="ç”·">ä¹¾é€ (ç”·)</option>
                </select>
            </div>
        </div>
        <div class="form-group">
            <label>å‡ºç”Ÿæ—¥æœŸ (å…¬å†)</label>
            <input type="datetime-local" id="birthdate">
        </div>
        <div class="form-group">
            <label>æ‰€æ±‚ä¹‹äº‹</label>
            <select id="topic">
                <option value="äº‹ä¸šè´¢è¿">ğŸ’° äº‹ä¸šè´¢è¿</option>
                <option value="æƒ…æ„Ÿå©šå§»">â¤ï¸ æƒ…æ„Ÿå©šå§»</option>
                <option value="å­¦ä¸šå‡è¿">ğŸ“– å­¦ä¸šå‡è¿</option>
                <option value="èº«å¿ƒçŠ¶æ€">ğŸ€ èº«å¿ƒçŠ¶æ€</option>
            </select>
        </div>
        <div class="form-group">
            <label>ç°çŠ¶ç®€è¿° (è®©å¤§å¸ˆæ›´æ‡‚ä½ )</label>
            <textarea id="user_context" rows="2" placeholder="ä¾‹ï¼šé¢ä¸´èŒä¸šè½¬å‹æœŸï¼Œæœ‰äº›ç„¦è™‘..."></textarea>
        </div>
        <button id="mainBtn" class="btn">èµ·å¦é—®åœ</button>
    </div>

    <div id="loading">
        <p id="loading-text">æ­£åœ¨æ„Ÿåº”æ˜Ÿç›˜æ°”åœº...</p>
        <div class="progress-outer">
            <div id="progress-inner"></div>
        </div>
        <p id="progress-num" style="color: var(--primary); font-weight: bold;">0%</p>
    </div>

    <div id="result-area">
        <div id="res-content" class="res-box"></div>
        <button class="btn" style="background:#444; margin-top:20px;" onclick="location.reload()">é‡æ–°èµ·å¦</button>
    </div>
</div>

<script>
const urlParams = new URLSearchParams(window.location.search);
const currentType = urlParams.get('type') || 'å…«å­—å‘½ç†';
document.getElementById('pageTitle').innerText = 'ğŸ”® ' + currentType;

document.getElementById("mainBtn").onclick = function() {
    const u = document.getElementById("username").value;
    const b = document.getElementById("birthdate").value;
    const g = document.getElementById("gender").value;
    const c = document.getElementById("user_context").value;
    const t = document.getElementById("topic").value;

    if (!u || !b) { alert("ä¿¡æ¯ä¸å…¨ï¼Œå¤§å¸ˆéš¾ä»¥èµ·å¦ã€‚"); return; }

    document.getElementById("input-form").style.display = "none";
    document.getElementById("loading").style.display = "block";

    let progress = 0;
    const interval = setInterval(() => {
        progress += Math.floor(Math.random() * 15) + 5;
        if (progress > 100) progress = 100;
        document.getElementById("progress-inner").style.width = progress + "%";
        document.getElementById("progress-num").innerText = progress + "%";
        if (progress >= 100) {
            clearInterval(interval);
            setTimeout(() => {
                document.getElementById("loading").style.display = "none";
                document.getElementById("result-area").style.display = "block";
                generateResult(u, g, b, t, c, currentType);
            }, 500);
        }
    }, 300);
};

function generateResult(name, gender, birthdate, topic, context, type) {
    const templates = {
        'å…«å­—å‘½ç†': `ã€å…«å­—å‘½ç†ç²¾ç®—ã€‘\n\nå‘½ä¸»<b>${name}</b>ï¼Œ${gender}é€ ã€‚\n\nç”Ÿè¾°å…«å­—æ’ç›˜å·²å®Œæˆï¼Œäº”è¡Œèƒ½é‡åˆ†å¸ƒæ˜¾ç¤ºï¼š\n${gender === 'ç”·' ? 'Â· æ—¥ä¸»åæ—ºï¼Œå–œç”¨ç¥ä¸ºé‡‘æ°´' : 'Â· æ—¥ä¸»ä¸­å’Œï¼Œå–œç”¨ç¥ä¸ºæœ¨ç«'}\n\nå…³äº<b>${topic}</b>ï¼š\nå½“å‰å¤§è¿æ˜¾ç¤ºï¼Œè¯¥é¢†åŸŸæœ‰æ˜¾è‘—çš„æœºé‡æœŸã€‚\n${context ? 'ç»“åˆæ‚¨æåˆ°çš„"' + context + '"ï¼Œå¤§å¸ˆè®¤ä¸ºï¼š' : ''}\n\nå»ºè®®ï¼šæŠŠæ¡æ—¶æœºï¼Œè¡ŒåŠ¨åŠ›æ˜¯å…³é”®ã€‚\n\nâ€”â€”ç´«å¾®å‘½ç†é¦†`,
        'ç´«å¾®æ–—æ•°': `ã€ç´«å¾®æ–—æ•°æ’ç›˜ã€‘\n\nå‘½ä¸»<b>${name}</b>ï¼Œ${gender}å‘½ç›˜ã€‚\n\nå‘½å®«ä¸»æ˜Ÿï¼š${gender === 'ç”·' ? 'ç´«å¾®æ˜Ÿ' : 'å¤©åŒæ˜Ÿ'}\nè´¢å¸›å®«ï¼šæ­¦æ›²æ˜Ÿåå®ˆï¼Œè´¢è¿ç¨³å¥\nè¿ç§»å®«ï¼šå»‰è´æ˜Ÿï¼Œå¤–è¿äº¨é€š\n\nå…³äº<b>${topic}</b>ï¼š\n${gender === 'ç”·' ? 'äº‹ä¸šå®«å¼ºåŠ¿' : 'å¤«å¦»å®«å’Œè°'}ï¼Œæœªæ¥ä¸€å¹´æœ‰è´µäººç›¸åŠ©ã€‚\n${context ? 'é’ˆå¯¹"' + context + '"ï¼Œå»ºè®®ï¼š' : ''}\nä¿æŒè€å¿ƒï¼Œæ˜Ÿè±¡æ˜¾ç¤ºè½¬æœºå°†è‡³ã€‚\n\nâ€”â€”ç´«å¾®å‘½ç†é¦†`,
        'å‘¨æ˜“çµæµ‹': `ã€å‘¨æ˜“çµæµ‹ã€‘\n\nå¦è±¡ï¼š<b>${['ä¹¾å¦', 'å¤å¦', 'éœ‡å¦', 'å·½å¦', 'åå¦', 'ç¦»å¦', 'è‰®å¦', 'å…‘å¦'][Math.floor(Math.random()*8)]}</b>\n\nå˜çˆ»è§£è¯»ï¼š\nå¦è¾æ˜¾ç¤º<b>${topic}</b>æ–¹é¢æ­£å¤„äºè“„åŠ¿å¾…å‘é˜¶æ®µã€‚\n\né’ˆå¯¹<b>${name}</b>çš„ç–‘é—®ï¼š\n${context ? '"' + context + '"' : 'å½“å‰å½¢åŠ¿'}ä¸‹ï¼Œå®œå®ˆä¸å®œæ”»ï¼Œå¾…æ—¶è€ŒåŠ¨ã€‚\n\nå‰åˆ©æ–¹ä½ï¼šä¸œå—æ–¹\nå‰åˆ©é¢œè‰²ï¼šç´«è‰²\n\nâ€”â€”ç´«å¾®å‘½ç†é¦†`,
        'å¡”ç½—å åœ': `ã€å¡”ç½—ç‰Œé˜µè§£è¯»ã€‘\n\nç‰Œé¢ï¼š\nÂ· è¿‡å»ï¼š<b>${['æ„šè€…', 'é­”æœ¯å¸ˆ', 'å¥³ç¥­å¸', 'çš‡å', 'çš‡å¸'][Math.floor(Math.random()*5)]}</b>\nÂ· ç°åœ¨ï¼š<b>${['æ‹äºº', 'æˆ˜è½¦', 'åŠ›é‡', 'éšå£«', 'å‘½è¿ä¹‹è½®'][Math.floor(Math.random()*5)]}</b>\nÂ· æœªæ¥ï¼š<b>${['æ­£ä¹‰', 'å€’åŠäºº', 'æ­»ç¥', 'èŠ‚åˆ¶', 'é­”é¬¼'][Math.floor(Math.random()*5)]}</b>\n\nå…³äº<b>${topic}</b>çš„æŒ‡å¼•ï¼š\nå¡”ç½—æ˜¾ç¤ºï¼Œæ‚¨æ­£ç«™åœ¨é€‰æ‹©çš„åå­—è·¯å£ã€‚\n${context ? 'å…³äº"' + context + '"ï¼š' : ''}\nç›¸ä¿¡ç›´è§‰ï¼Œè¿‡å»çš„ç»éªŒæ˜¯æœªæ¥çš„åŸºçŸ³ã€‚\n\nâ€”â€”ç´«å¾®å‘½ç†é¦†`,
        'å°å æ˜Ÿç›˜': `ã€å°åº¦å æ˜Ÿè§£è¯»ã€‘\n\nå‘½ä¸»<b>${name}</b>ï¼Œ${gender}æ˜Ÿç›˜ã€‚\n\nä¸Šå‡æ˜Ÿåº§ï¼š<b>${['ç™½ç¾Šåº§', 'é‡‘ç‰›åº§', 'åŒå­åº§', 'å·¨èŸ¹åº§', 'ç‹®å­åº§', 'å¤„å¥³åº§'][Math.floor(Math.random()*6)]}</b>\næœˆäº®æ˜Ÿåº§ï¼šæƒ…æ„Ÿé©±åŠ¨åŠ›å¼º\n\nå…³äº<b>${topic}</b>ï¼š\nå½“å‰è¡Œè¿æ˜¾ç¤ºï¼Œè¯¥é¢†åŸŸæœ‰çªç ´æ€§è¿›å±•ã€‚\n${context ? 'é’ˆå¯¹"' + context + '"çš„å»ºè®®ï¼š' : ''}\nå†¥æƒ³ä¸å†…è§‚å°†å¸¦æ¥æ¸…æ™°æŒ‡å¼•ã€‚\n\nâ€”â€”ç´«å¾®å‘½ç†é¦†`
    };
    
    document.getElementById("res-content").innerHTML = templates[type] || templates['å…«å­—å‘½ç†'];
}
</script>

</body>
</html>
